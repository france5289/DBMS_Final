<!DOCTYPE html>
<html>
<body>
    <title>Movie Forum</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Karma">
    <style>
        body,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: "Karma", sans-serif
        }

        .w3-bar-block .w3-bar-item {
            padding: 20px
        } 
    </style>
    <!-- Sidebar (hidden by default) -->
    <nav class="w3-sidebar w3-bar-block w3-card w3-top w3-xlarge w3-animate-left"
        style="display:none;z-index:2;width:40%;min-width:300px" id="mySidebar">
        <a href="javascript:void(0)" onclick="w3_close()" class="w3-bar-item w3-button">Close Menu</a>
        <a href="data_manager" onclick="w3_close()" class="w3-bar-item w3-button">Data Manager</a>
        <a href="#about" onclick="w3_close()" class="w3-bar-item w3-button">About</a>
    </nav>

    <!-- Top menu -->
    <div class="w3-top">
        <div class="w3-white w3-xlarge" style="max-width:1200px;margin:auto">
            <div class="w3-button w3-padding-16 w3-left" onclick="w3_open()">â˜°</div>
            <a href="home" class="w3-right w3-padding-16">Home</a>
            <div class="w3-center w3-padding-16">Movie Manager</div>
        </div>
    </div>
    <!--  Page content -->
    <div class="w3-main w3-content w3-padding" style="max-width:1200px;margin-top:100px">
        <!-- add data insertion and modification form -->
        <div>
            <h2>What info do you want to insert or modify?</h2>
            <h4>Hint : if you want delete a data just insert Movie Name</h4>
            <form>
                <label for="Movie_Name">Movie name:</label>
                <input type="text" id="Movie_Name" name="Movie_Name" required><br><br>
                <label for="Rating">Rating:</label>
                <input type="text" id="Rating" name="Rating" required><br><br>
                <label for="Tomato_score">Tomato score:</label>
                <input type="text" id="Tomato_score" name="Tomato_score" required><br><br>
                <label for="IMDB_score">IMDB_score:</label>
                <input type="text" id="IMDB_score" name="IMDB_score" required><br><br>
                <label for="World_Box">World Box:</label>
                <input type="text" id="World_Box" name="World_Box" required><br><br>
                <label for="movie_image">Movie Image Link</label>
                <input type="text" id="movie_image" name="movie_image" required><br><br>
                <input type="submit" value="Insert New Data" formmethod="GET"insert_movie>
                <input type="submit" value="Modify Existed Data" formmethod="POST">
                <input type="submit" value="Delete Existed Data" formmethod="POST">
            </form>
        </div>
        <!-- List all data at movie table -->
        <div>
            <table>
                <tr>
                    <th>Movie Name</th>
                    <th>Rating</th>
                    <th>Tomato Score</th>
                    <th>IMDB_score</th>
                    <th>World_Box</th>
                    <th>Movie Image</th>
                </tr>
                {% for item in data %}
                <tr>
                    <td>{{item[0]}}</td>
                    <td>{{item[1]}}</td>
                    <td>{{item[2]}}</td>
                    <td>{{item[3]}}</td>
                    <td>{{item[4]}}</td>
                    <td><img src={{item[5]}} alt="Movie Image" width="100" height="100"></td>
                </tr>
                {% endfor %}
                
            </table>

        </div>
    
    </div>


    <script>
        // Script to open and close sidebar
        function w3_open() {
            document.getElementById("mySidebar").style.display = "block";
        }
        function w3_close() {
            document.getElementById("mySidebar").style.display = "none";
        }
    </script>
</body>
</html>